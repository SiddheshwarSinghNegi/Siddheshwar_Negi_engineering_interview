# Array Banking API - Production Environment Variables

# Application Settings
APP_ENV=production
APP_PORT=8080
LOG_LEVEL=info

# Database Configuration
# IMPORTANT: Use strong passwords and proper secrets management in production
DB_HOST=postgres
DB_PORT=5432
DB_USER=arraybank_prod
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_IN_PRODUCTION
DB_NAME=arraybank_prod
DB_SSL_MODE=require

# Database Migration Settings
AUTO_MIGRATE=true
SEED_DATABASE=false

# Database Connection Pooling
DB_MAX_CONNECTIONS=100
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=3600s

# JWT Configuration
# IMPORTANT: Use RSA keypair; base64-encode PEM files and set below.
# Generate: openssl genrsa -out private.pem 2048 && openssl rsa -in private.pem -pubout -out public.pem
# Encode: base64 -w 0 private.pem  (and same for public.pem)
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=
JWT_ISSUER=banking-api
JWT_ACCESS_TOKEN_DURATION=24h
JWT_REFRESH_TOKEN_DURATION=168h

# Server Configuration
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# CORS Configuration (config reads CORS_ALLOW_ORIGINS)
# Update with your actual production domains
CORS_ALLOW_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# Rate Limiting (app reads RATE_LIMIT_PER_SECOND)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_SECOND=5
RATE_LIMIT_REQUESTS_PER_SECOND=5
RATE_LIMIT_BURST=10

# Production Settings
ENABLE_SWAGGER=false
ENABLE_PROFILING=false

# NorthWind Bank Integration
NORTHWIND_BASE_URL=https://northwind.dev.array.io
NORTHWIND_API_KEY=your_northwind_api_key_here
NORTHWIND_POLL_INTERVAL_SECONDS=10

# Regulator Webhook
REGULATOR_WEBHOOK_URL=http://regulator:9000/webhook
REGULATOR_RETRY_INITIAL_SECONDS=2
REGULATOR_RETRY_MAX_SECONDS=60
